<app-page-header pageTitle="Jobs" titleFontSize="5rem"></app-page-header>

<div class="row content">
  <div class="filtersSection">
    <div class="column gap-1 filtersCard">
      <!-- Job Title -->
      <p class="filterHeader">Search By Job Title</p>
      <input type="text" class="searchBar" placeholder="Search by job title" />

      <!-- Location -->
      <p class="filterHeader">Location</p>
      <input type="text" class="searchBar" placeholder="Choose City" />
      <!-- Category -->
      <p class="filterHeader">Category</p>
      <div
        *ngFor="
          let category of categories
            | slice : 0 : (showAllCategories ? categories.length : 6)
        "
        class="row space-between"
      >
        <div class="row">
          <input
            id="{{ category.name }}"
            value="{{ category.id }}"
            type="checkbox"
            (click)="filterByCategory($event)"
          />
          <label for="{{ category.name }}">
            <span></span>
            {{ category.name }}
            <ins
              ><i>{{ category.name }}</i></ins
            >
          </label>
        </div>
        <!-- count -->
        <p class="full-center countTag">
          {{ getJobsCountPerCategory(category.id) }}
        </p>
      </div>
      <app-animated-button
        label="{{ showAllCategoriesText }} all categories"
        width="100%"
        height="2.5rem"
        backgroundColor="var(--primary-color)"
        fontSize="1rem"
        fontWeight="600"
        (click)="toggleCategories()"
      ></app-animated-button>

      <!-- Job Type -->
      <p class="filterHeader">Job Type</p>
      <div
        *ngFor="let type of jobTypes; let index = index"
        class="row space-between"
      >
        <div class="row">
          <input
            type="checkbox"
            id="{{ jobTypes.at(index) }}"
            value="{{ jobTypes.at(index)?.toString() }}"
          />
          <!-- (click)="filterByJobType($event)" -->
          <label for="{{ jobTypes.at(index) }}">
            <span></span>
            {{ jobTypes.at(index) }}
            <ins
              ><i>{{ jobTypes.at(index) }}</i></ins
            >
          </label>
        </div>
        <p class="full-center countTag">11</p>
      </div>

      <!-- Experience Level -->
      <p class="filterHeader">Experience Level</p>
      <div
        *ngFor="let type of experiences; let index = index"
        class="row space-between"
      >
        <div class="row">
          <input type="checkbox" id="{{ experiences.at(index) }}" />
          <label for="{{ experiences.at(index) }}">
            <span></span>
            {{ experiences.at(index) }}
            <ins
              ><i>{{ experiences.at(index) }}</i></ins
            >
          </label>
        </div>
        <p class="full-center countTag">10</p>
      </div>

      <!-- Date Posted -->
      <p class="filterHeader">Date Posted</p>
      <div
        *ngFor="let type of datePosted; let index = index"
        class="row space-between"
      >
        <div class="row">
          <input type="checkbox" id="{{ datePosted.at(index) }}" />
          <label for="{{ datePosted.at(index) }}">
            <span></span>
            {{ datePosted.at(index) }}
            <ins
              ><i>{{ datePosted.at(index) }}</i></ins
            >
          </label>
        </div>
        <p class="full-center countTag">10</p>
      </div>

      <!-- Salary -->
      <p class="filterHeader">Salary</p>
      <p-slider [(ngModel)]="rangeValues" [range]="true" styleClass="w-14rem" />
      <div class="row full-center">
        <p class="salaryRange">Salary:</p>
        &nbsp;
        <p class="salaryRange">{{ rangeValues[0] | currency }} -</p>
        &nbsp;
        <p class="salaryRange">{{ rangeValues[1] | currency }}</p>
      </div>
      <app-animated-button
        label="Apply"
        width="100%"
        height="2rem"
        backgroundColor="var(--primary-color)"
        fontSize="1rem"
        fontWeight="600"
      ></app-animated-button>
    </div>
  </div>

  <div class="column jobsSection">
    <div class="countTag">
      <p class="darkText">
        Showing &nbsp;
        {{ paginatedJobs.length }} - {{ rows }} of &nbsp;
        {{ filteredJobs.length || totalRecords }}
      </p>
    </div>
    <div class="jobsList">
      <app-full-job-card
        *ngFor="let job of paginatedJobs"
        [job]="job"
      ></app-full-job-card>
    </div>
    <p-paginator
      [first]="first"
      [rows]="rows"
      [totalRecords]="totalRecords"
      (onPageChange)="onPageChange($event)"
      [styleClass]="'paginator'"
    ></p-paginator>
  </div>
</div>
